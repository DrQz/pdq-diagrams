// Simple PDQ model using embedded PNGs
// Created by NJG on Sunday, December 03, 2017
   
digraph G {
    compound=true;
    ranksep=1.25;

    node [shape=plaintext, fontsize=16, label=""];

    bgcolor=white;
    edge [arrowsize=1, color=black];
    graph[penwidth=0, labelloc="b"];

    /* Nodes */
    //{ rank=same; src; LB };
    
    src [shape=invtriangle, label="Req source"];
    snk [shape=invtriangle, label="Req sink"];
    LB [shape=none, label="Load balancer", image="node-multi.png"];
    svc1 [shape=none, label="Parallel 1", image="node-multi.png"];
    svc2 [shape=none, label="Parallel 2", image="node-multi.png"];
    svc3 [shape=none, label="Parallel 3", image="node-multi.png"];
    svc4 [shape=none, label="Parallel 4", image="node-multi.png"];
    svc5 [shape=none, label="Parallel 5", image="node-multi.png"];
    svc6 [shape=none, label="Parallel 6", image="node-multi.png"];

    /* Relationships */
    src -> LB:w[color="red"];
    LB:e -> svc1:w[color="red"];
    svc1:e -> snk:nnw[color="red"];
    
    src ->  LB:w[color="green"];
    LB:e -> svc2:w[color="green"];
    svc2:e -> snk:nw[color="green"];
    
    src -> LB:w[color="blue"];
    LB:e -> svc3:w[color="blue"];
    svc3:e -> snk:n[color="blue"];
    
    src -> LB:w[color="yellow"];
    LB:e -> svc4:w[color="yellow"];
    svc4:e -> snk:ne[color="yellow"];
    
    src -> LB:w[color="orange"];
    LB:e -> svc5:w[color="orange"];
    svc5:e -> snk[color="orange"];
    
    src -> LB:w[color="purple"];
    LB:e -> svc6:w[color="purple"];
    svc6:e -> snk:nne[color="purple"];
    
    
    copyright [shape=none, fontcolor="gray", label="NJG on Dec 03, 2017"];
}



